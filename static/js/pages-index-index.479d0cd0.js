(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0c33":function(t,e,i){"use strict";var n=i("4f16"),a=i.n(n);a.a},"0f7f":function(t,e,i){"use strict";i.r(e);var n=i("5d10"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"4f16":function(t,e,i){var n=i("50b6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("47292bce",n,!0,{sourceMap:!1,shadowMode:!1})},"50b6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-6ff4e597]{display:flex;flex-direction:column;padding-top:%?50?%}.container .top[data-v-6ff4e597]{text-align:center;height:%?100?%}.container .main[data-v-6ff4e597]{color:#fff}.container .main .uni-card--shadow[data-v-6ff4e597]{height:%?260?%;background-color:#1678ff}.container .main uni-text[data-v-6ff4e597]{text-align:center;font-size:13px;color:#fff;height:%?220?%;line-height:%?220?%}.container .main uni-image[data-v-6ff4e597]{height:%?220?%}.container .footer[data-v-6ff4e597]{padding:0 %?30?%}",""]),t.exports=e},"5d10":function(t,e,i){"use strict";i("d3b7"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{stepsOption:[{title:"上传身份证"},{title:"实人检测"},{title:"等待审核"}],stepsActive:0,imgPositive:void 0,imgNegative:void 0,isCode:!1,iccid:void 0,custid:void 0,reqNo:void 0}},onLoad:function(t){try{t&&(this.isCode=!0)}catch(e){console.log(e)}},mounted:function(){},methods:{saveImage:function(t){var e=this;alert("点击事件"),uni.chooseImage({count:1,sizeType:["ompressed"],sourceType:["camera"],success:function(i){alert("拍照成功"),alert(i.tempFilePaths[0]),e.dealImage(i.tempFilePaths[0],t).then((function(n){var a=n.length,o=parseInt(a-a/8*2),c=(o/1024).toFixed(2);alert("大小",c),c>=1024?uni.showToast({title:"图片大于1MB,请重新拍照",icon:"error",duration:2e3}):(alert("eeeee"),alert(i.tempFilePaths[0]),1===t?e.imgPositive=i.tempFilePaths[0]:e.imgNegative=i.tempFilePaths[0])}))},fail:function(t){}})},dealImage:function(t,e){return new Promise((function(e,i){var n=new Image;n.src=t,n.onload=function(){var t=this,i=t.width,n=t.height,a=document.createElement("canvas"),o=a.getContext("2d");a.width=i,a.height=n,o.drawImage(t,0,0,i,n);var c=a.toDataURL("image/jpeg",.8);e(c)}}))},uploadPhoto:function(t,e){var i=this;uni.uploadFile({url:this.$api.uploadPhoto,filePath:t,name:"file",formData:{imgType:e,vin:this.iccid,custId:this.custid},header:{},success:function(n){1===e?i.imgPositive=t:i.imgNegative=t},fail:function(t){uni.showToast({title:"上传失败",icon:"error",duration:2e3})}})},toVideo:function(){uni.navigateTo({url:"./videoRecording?custid="+this.custid+"&iccid="+this.iccid})}}};e.default=n},a8cf:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniSteps:i("bd27").default,uniCard:i("ab98").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isCode?i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"top"},[i("uni-steps",{attrs:{options:t.stepsOption,active:t.stepsActive}})],1),i("v-uni-view",{staticClass:"main"},[i("uni-card",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImage(1)}}},[t.imgPositive?i("v-uni-image",{attrs:{mode:"scaleToFill",src:t.imgPositive}}):i("v-uni-text",[t._v("上传身份证(人像面)")])],1),i("uni-card",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImage(2)}}},[t.imgNegative?i("v-uni-image",{attrs:{mode:"scaleToFill",src:t.imgNegative}}):i("v-uni-text",[t._v("上传身份证(国徽面)")])],1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-button",{attrs:{type:"primary",plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toVideo.apply(void 0,arguments)}}},[t._v("下 一 步")])],1)],1):t._e()},o=[]},bb00:function(t,e,i){"use strict";i.r(e);var n=i("a8cf"),a=i("0f7f");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("0c33");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6ff4e597",null,!1,n["a"],c);e["default"]=r.exports}}]);